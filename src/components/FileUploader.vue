<template>
    <div class="oven">
        <h1>Should we make some pies?</h1>
        <svg width="96" height="84" viewBox="0 0 96 84" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M92.8144 29.5667C90.8269 24.2494 87.9319 19.4848 84.2119 15.4067C80.7038 11.5554 76.5056 8.34354 71.7338 5.86104C67.1756 3.48729 62.2013 1.83166 56.9494 0.939164C56.8463 0.922289 56.7394 0.912914 56.6344 0.912914C55.7175 0.912914 54.9413 1.56916 54.7875 2.47479C54.615 3.49291 55.3031 4.46398 56.3213 4.63648C57.7254 4.87516 59.1086 5.17666 60.4678 5.53423L57.8948 13.2956C54.7286 12.488 51.4056 12.0684 48 12.0684C44.7105 12.0684 41.4975 12.4592 38.4289 13.2133L35.8551 5.45079C37.2568 5.09248 38.6837 4.79398 40.1323 4.56148C41.1523 4.39835 41.8498 3.43441 41.6867 2.41273C41.6154 1.97023 41.3867 1.56691 41.0454 1.27816C40.6292 0.927727 40.0761 0.773977 39.5379 0.858352C34.2373 1.7096 29.2104 3.33523 24.5942 5.69023C19.7681 8.15623 15.5156 11.3625 11.9606 15.2194C8.18814 19.3069 5.25188 24.09 3.23438 29.4375C1.08376 35.1394 -0.00374033 41.4469 9.66509e-06 48.1875V81.9375C9.66509e-06 82.9729 0.839447 83.8125 1.87501 83.8125H94.125C95.1606 83.8125 96 82.9729 96 81.9375V48.1875C96.0038 41.4994 94.9331 35.2331 92.8144 29.5667ZM12.8747 19.913L19.4331 25.0307C16.4831 28.6843 14.3638 32.94 13.1205 37.6837L5.1092 36.0553C6.55407 29.9795 9.14851 24.5818 12.8747 19.913ZM12.3488 41.3537C11.9936 43.5671 11.8125 45.8709 11.8125 48.2561V57.5625H3.75001V48.1875C3.75226 45.2514 3.96713 42.4337 4.38826 39.7355L12.3488 41.3537ZM3.75001 61.3125H23.0625V68.8125H3.75001V61.3125ZM39.9216 55.8373C39.7511 53.9154 40.4393 52.1662 41.9672 50.6383C43.7396 48.8659 44.799 47.1514 45.4191 45.6339C47.2329 48.5739 48.6619 51.4232 48.6619 52.6117C48.6619 53.2942 49.0328 53.9227 49.6301 54.2529C50.2275 54.5829 50.9569 54.5621 51.5348 54.1993C53.0192 53.2661 54.0709 51.7159 54.7971 50.2007C55.3735 51.8777 55.9108 54.2739 56.062 57.5627H40.2988C40.1404 57.11 39.9816 56.5155 39.9216 55.8373ZM69.1875 61.3125V68.8125H26.8125V61.3125H69.1875ZM34.875 72.5625V80.0625H15.5625V72.5625H34.875ZM38.625 72.5625H57.9375V80.0625H38.625V72.5625ZM61.6875 72.5625H81V80.0625H61.6875V72.5625ZM72.9375 68.8125V61.3125H92.25V68.8125H72.9375ZM83.2588 20.0824C86.9267 24.7305 89.4816 30.0943 90.9064 36.1234L82.8969 37.7509C81.6748 33.0525 79.5955 28.8311 76.7016 25.1979L83.2588 20.0824ZM83.6618 41.4223L91.6221 39.8047C92.0364 42.482 92.2478 45.2767 92.25 48.1877V57.5627H84.1875V48.2563C84.1875 45.8953 84.0096 43.6149 83.6618 41.4223ZM64.0545 6.63279C70.5287 8.9036 76.2969 12.5389 80.7977 17.2462L74.1941 22.398C73.7552 21.9613 73.3024 21.5355 72.8357 21.1205C69.5475 18.1976 65.6942 15.9326 61.4799 14.399L64.0545 6.63279ZM80.4375 48.2561V57.5625H59.8151C59.4203 47.9533 56.0569 44.5383 55.6521 44.1617C55.1511 43.6957 54.4359 43.5395 53.7863 43.7542C53.1366 43.9691 52.6554 44.5207 52.5311 45.1935C52.4059 45.8709 52.0093 47.3675 51.3484 48.7164C49.6815 44.9083 46.5606 40.5058 45.7569 39.3986C45.2123 38.6479 44.1885 38.3713 43.365 38.7977C42.5468 39.2218 42.1468 40.1398 42.4352 41.0128C42.501 41.3092 43.0374 44.2642 39.3152 47.9865C36.1009 51.2008 35.8093 54.8651 36.3949 57.5623H15.5625V48.2559C15.5625 25.9693 32.3771 15.8184 48 15.8184C63.6229 15.8184 80.4375 25.9695 80.4375 48.2561ZM32.2601 6.52385L34.8345 14.2884C30.4978 15.8225 26.5339 18.1252 23.1643 21.1204C22.752 21.4869 22.3521 21.8634 21.9613 22.247L15.3518 17.0895C19.9065 12.3789 25.7306 8.76073 32.2601 6.52385ZM3.75001 72.5625H11.8125V80.0625H3.75001V72.5625ZM92.25 80.0625H84.75V72.5625H92.25V80.0625Z" fill="black"/>
        </svg>

        <div class="upload">
            <p>Drag your <span>package.json</span> into the oven <br/> or <span>add it manually</span></p>
            <input name="file" type="file" accept="application/JSON" @change="onFileChange" required/>
        </div>
    </div>
</template>

<script lang="ts">
    import { defineComponent } from 'vue'

    export default defineComponent({
        name: 'Upload',
        methods: {
            onFileChange (file: File) {
                this.$emit('file-uploaded', file)
            }
        }
    })
</script>

<style lang="scss">
.oven {
    position: relative;
    h1 {
        text-align: center;
        font-size: 3rem;
        font-weight: lighter;
        margin-bottom: 9rem;
        margin-top: 0
    }
    svg {
        position: absolute;
        left: 50%;
        transform: translate(-50%);
        z-index: 1;
        top: 70px;
    }
    .upload {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 50vw;
      height: 20vh;
      background-color: var(--white);
      border: 2px dashed var(--grey);
      border-radius: 20px;
      position: relative;

        p {
            width: 50%;
            text-align: center;
            font-size: 1.5rem;
            span {
                &:first-of-type {
                    font-weight: bold;
                }

                &:last-of-type {
                    color: var(--blue);
                }
            }
        }

        input[type="file"] {
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
    }
}
</style>
